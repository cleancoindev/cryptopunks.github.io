---
layout: post
title:  "Обходим блокировку любого сервиса через torbrowser на примере telegram"
meta_description: "Бонусом мы расшарим доступ к тору любым устройствам в твоей локальной сети: мобильным телефонам, планшетам, другим компьютерам"
date: 2020-05-19
tags: tor torbrowser block telegram viber facebook instagram
categories: article
author: "soko1"
---

Если в твоей стране блокируют telegram, либо любой другой мессенджер/сервис (viber, instagram, youtube, и т.д.) - можно прибегнуть к torbrowser!<br>
Да, ты не ослышался. Дело в том, что торбраузер это просто хорошо настроенная связка tor с браузером firefox. Поэтому, почему бы не воспользоваться отдельным его компонентом для того чтобы заставить работать приложение вне браузера?<br>
В статье я приведу пример настройки с мессенджерам telegram. По аналогии можно настроить любую другую программу таким же способом. 

Ты наверное уже успел скачать и установить торбраузер. А если у тебя и тор блокируется властями, то настроил его [по этой статье](https://cryptopunks.org/article/how+to+unblock+tor+through+torbrowser). 

## Немного шаманства с конфигом

Самое сложное - это найти файлик **torrc** :) Проще всего воспользоваться файловым поиском по диску.

Как правило в MacOS этот файлик лежит в:

`~/Library/Application Support/TorBrowser-Data/Tor/torrc`

А в Windows/Linux:

`скаченный_каталог_с_браузером/Browser/TorBrowser/Data/Tor/torrc`

Открывай torrc и добавляй туда строчку в самый конец:

```SocksPort 9050```

Сохраняй, закрывай файл и перезапускай торбраузер (без перезапуска ничего работать не будет!).

Открывай настройки telegram и ищи опцию Add Proxy (**Settings** -> **Data and storage** -> **Use Proxy** -> **Add Proxy** -> **SOCKS5**). 
Необходимо добавить socks5-прокси и прописать IP 127.0.0.1 с портом 9050:

<img src="/uploads/telegram_socks_tor_add.png" />

Сохраняй и активируй: 

<img src="/uploads/telegram_socks_tor_activate.png" />

Все, телеграм работает! 

Точно так же делаешь со всеми другими заблокированными сервисами у тебя в стране. Как правило в каждой современной программе есть в настройках работа с прокси. Просто указывай **127.0.0.1:9050** в качестве socks-прокси и плюй на блокировки! 

## Расшариваем доступ к тору всем устройствам в локальной сети

А теперь давай сделаем так, чтобы твой телефон/планшет/второй_компьютер тоже мог обойти блокировку, но уже без установки и настройки дополнительного софта, все через тот же торбраузер на компьютере. Единственное условие - всем им неаобходимо работать в пределах одной локальной сети, например, через один wifi-роутер.

Открывай тот же файлик torrc и меняй ранее добавленную строчку:

```SocksPort 9050```

на

```SocksPort 0.0.0.0:9050```

Сохраняй и перезапускай торбраузер. 

Теперь тебе нужно узнать **локальный** IP-адрес компьютера на котором запущен торбраузер. Обычно эту информацию можно подсмотреть в окошке с wifi/ethernet-соединением у часиков в углу экрана :) Либо погугли как это сделать в твоей ОС.

Допустим ноутбук с торбраузером в твоей сети оказался под айпи 192.168.1.13. 

Теперь открывай настройки telegram на мобильном (либо любом другом устройстве) и вводи в качестве socks-прокси уже адрес **192.168.1.13:9050**. Теперь всё должно работать и на втором устройстве!

## Про что не следует забывать

Хотелось обратить внимание на то, что заблокированный сервис будет работать только в случае если тобраузер запущен и висит в фоне. Как только торбраузер закроешь - все программы что настроены на работу с ним через прокси отключатся. Чтобы программы продолжали работать и не зависили от браузера - настраивай систему по [этой](https://cryptopunks.org/article/tor+blocking+bypass/) статье.